{"id":"tOYr","dependencies":[{"name":"C:\\lib\\js\\rin\\package.json","includedInParent":true,"mtime":1603073660575},{"name":"./flattenable","loc":{"line":17,"column":26},"parent":"C:\\lib\\js\\rin\\collection.js","resolved":"C:\\lib\\js\\rin\\flattenable.js"},{"name":"./schema","loc":{"line":18,"column":21},"parent":"C:\\lib\\js\\rin\\collection.js","resolved":"C:\\lib\\js\\rin\\schema.js"},{"name":"./alpha","loc":{"line":19,"column":18},"parent":"C:\\lib\\js\\rin\\collection.js","resolved":"C:\\lib\\js\\rin\\alpha.js"}],"generated":{"js":"let t=require(\"./flattenable\"),i=require(\"./schema\"),e=require(\"./alpha\");module.exports=t.extend({className:\"Collection\",itemTypeSchema:null,items:null,__ctor:function(t){t||(t=this.itemTypeSchema),t&&(this.typeSchema=i.Property(\"items\").is(i.Array().of(t))),this.reset()},onUnflattened:function(){let t=this.items;this.reset();for(let i of t)this.add(i)},reset:function(){return this.items=[],this},clear:function(){var t=this.items;this.reset();for(var i=0;i<t.length;i++)this.onItemRemoved(t[i],0);return this},sort:function(t,i){return\"function\"!=typeof t?this.items.sort(function(e,s){return(e[t]<=s[t]?-1:1)*(!0===i?-1:1)}):this.items.sort(t),this},findItem:function(t,i){if(!this.items)return null;for(var s=0;s<this.items.length;s++)if((!i||!e.partialCompare(this.items[s],i))&&e.partialCompare(this.items[s],t))return this.items[s];return null},getItems:function(){return this.items},count:function(){return this.items.length},isEmpty:function(){return!this.items.length},add:function(t){return t&&this.onBeforeItemAdded(t)?(this.items.push(t),this.onItemAdded(t),this):this},addAt:function(t,i){if(!i||!this.onBeforeItemAdded(i))return this;if(t<0&&(t=0),t>this.items.length&&(t=this.items.length),0==t)this.items.unshift(i);else if(t==this.items.length)this.items.push(i);else{var e=this.items.splice(0,t);e.push(i),this.items=e.concat(this.items)}return this.onItemAdded(i),this},addItems:function(t){if(!t)return this;for(var i=0;i<t.length;i++)this.add(t[i]);return this},indexOf:function(t){return this.items.indexOf(t)},getAt:function(t,i){return t<0&&1==i&&(t+=this.items.length),t>=0&&t<this.items.length?this.items[t]:null},removeAt:function(t){if(t<0||t>=this.items.length)return this;var i=this.items[t];return this.items.splice(t,1),this.onItemRemoved(i,t),this},remove:function(t){this.removeAt(this.indexOf(t))},forEach:function(t){if(this.isEmpty())return this;for(var i=0;i<this.items.length&&!1!==t(this.items[i],i,this);i++);return this},forEachCall:function(t,...i){if(this.isEmpty())return this;for(var e=0;e<this.items.length&&!1!==this.items[e][t](...i);e++);return this},forEachRev:function(t){if(this.isEmpty())return this;for(var i=this.items.length-1;i>=0&&!1!==t(this.items[i],i,this);i--);return this},forEachRevCall:function(t,...i){if(this.isEmpty())return this;for(var e=this.items.length-1;e>=0&&!1!==this.items[e][t](...i);e--);return this},onBeforeItemAdded:function(t){return!0},onItemAdded:function(t){},onItemRemoved:function(t){}});"},"sourceMaps":{"js":{"mappings":[{"source":"collection.js","original":{"line":17,"column":0},"generated":{"line":1,"column":0}},{"source":"collection.js","name":"Flattenable","original":{"line":17,"column":4},"generated":{"line":1,"column":4}},{"source":"collection.js","name":"require","original":{"line":17,"column":18},"generated":{"line":1,"column":6}},{"source":"collection.js","original":{"line":17,"column":26},"generated":{"line":1,"column":14}},{"source":"collection.js","name":"Schema","original":{"line":18,"column":4},"generated":{"line":1,"column":31}},{"source":"collection.js","name":"require","original":{"line":18,"column":13},"generated":{"line":1,"column":33}},{"source":"collection.js","original":{"line":18,"column":21},"generated":{"line":1,"column":41}},{"source":"collection.js","name":"Rin","original":{"line":19,"column":4},"generated":{"line":1,"column":53}},{"source":"collection.js","name":"require","original":{"line":19,"column":10},"generated":{"line":1,"column":55}},{"source":"collection.js","original":{"line":19,"column":18},"generated":{"line":1,"column":63}},{"source":"collection.js","name":"module","original":{"line":25,"column":0},"generated":{"line":1,"column":74}},{"source":"collection.js","name":"exports","original":{"line":25,"column":7},"generated":{"line":1,"column":81}},{"source":"collection.js","name":"Flattenable","original":{"line":25,"column":17},"generated":{"line":1,"column":89}},{"source":"collection.js","name":"extend","original":{"line":25,"column":29},"generated":{"line":1,"column":91}},{"source":"collection.js","original":{"line":26,"column":1},"generated":{"line":1,"column":98}},{"source":"collection.js","name":"className","original":{"line":30,"column":1},"generated":{"line":1,"column":99}},{"source":"collection.js","original":{"line":30,"column":12},"generated":{"line":1,"column":109}},{"source":"collection.js","name":"itemTypeSchema","original":{"line":35,"column":1},"generated":{"line":1,"column":122}},{"source":"collection.js","original":{"line":35,"column":17},"generated":{"line":1,"column":137}},{"source":"collection.js","name":"items","original":{"line":40,"column":1},"generated":{"line":1,"column":142}},{"source":"collection.js","original":{"line":40,"column":8},"generated":{"line":1,"column":148}},{"source":"collection.js","name":"__ctor","original":{"line":45,"column":1},"generated":{"line":1,"column":153}},{"source":"collection.js","original":{"line":45,"column":9},"generated":{"line":1,"column":160}},{"source":"collection.js","name":"itemTypeSchema","original":{"line":45,"column":19},"generated":{"line":1,"column":169}},{"source":"collection.js","name":"itemTypeSchema","original":{"line":47,"column":7},"generated":{"line":1,"column":172}},{"source":"collection.js","name":"itemTypeSchema","original":{"line":47,"column":23},"generated":{"line":1,"column":176}},{"source":"collection.js","original":{"line":47,"column":40},"generated":{"line":1,"column":178}},{"source":"collection.js","name":"itemTypeSchema","original":{"line":47,"column":45},"generated":{"line":1,"column":183}},{"source":"collection.js","name":"itemTypeSchema","original":{"line":49,"column":6},"generated":{"line":1,"column":199}},{"source":"collection.js","original":{"line":50,"column":3},"generated":{"line":1,"column":203}},{"source":"collection.js","name":"typeSchema","original":{"line":50,"column":8},"generated":{"line":1,"column":208}},{"source":"collection.js","name":"Schema","original":{"line":50,"column":21},"generated":{"line":1,"column":219}},{"source":"collection.js","name":"Property","original":{"line":50,"column":28},"generated":{"line":1,"column":221}},{"source":"collection.js","original":{"line":50,"column":37},"generated":{"line":1,"column":230}},{"source":"collection.js","name":"is","original":{"line":50,"column":46},"generated":{"line":1,"column":239}},{"source":"collection.js","name":"Schema","original":{"line":50,"column":49},"generated":{"line":1,"column":242}},{"source":"collection.js","name":"Array","original":{"line":50,"column":56},"generated":{"line":1,"column":244}},{"source":"collection.js","name":"of","original":{"line":50,"column":64},"generated":{"line":1,"column":252}},{"source":"collection.js","name":"itemTypeSchema","original":{"line":50,"column":67},"generated":{"line":1,"column":255}},{"source":"collection.js","name":"reset","original":{"line":52,"column":7},"generated":{"line":1,"column":260}},{"source":"collection.js","name":"reset","original":{"line":52,"column":7},"generated":{"line":1,"column":265}},{"source":"collection.js","name":"onUnflattened","original":{"line":58,"column":1},"generated":{"line":1,"column":274}},{"source":"collection.js","original":{"line":58,"column":16},"generated":{"line":1,"column":288}},{"source":"collection.js","name":"items","original":{"line":60,"column":6},"generated":{"line":1,"column":299}},{"source":"collection.js","name":"items","original":{"line":60,"column":6},"generated":{"line":1,"column":303}},{"source":"collection.js","original":{"line":60,"column":14},"generated":{"line":1,"column":305}},{"source":"collection.js","name":"items","original":{"line":60,"column":19},"generated":{"line":1,"column":310}},{"source":"collection.js","name":"reset","original":{"line":61,"column":7},"generated":{"line":1,"column":316}},{"source":"collection.js","name":"reset","original":{"line":61,"column":7},"generated":{"line":1,"column":321}},{"source":"collection.js","original":{"line":63,"column":7},"generated":{"line":1,"column":329}},{"source":"collection.js","original":{"line":63,"column":7},"generated":{"line":1,"column":333}},{"source":"collection.js","name":"i","original":{"line":63,"column":11},"generated":{"line":1,"column":337}},{"source":"collection.js","name":"items","original":{"line":63,"column":16},"generated":{"line":1,"column":342}},{"source":"collection.js","original":{"line":64,"column":3},"generated":{"line":1,"column":344}},{"source":"collection.js","name":"add","original":{"line":64,"column":8},"generated":{"line":1,"column":349}},{"source":"collection.js","name":"i","original":{"line":64,"column":12},"generated":{"line":1,"column":353}},{"source":"collection.js","name":"reset","original":{"line":70,"column":1},"generated":{"line":1,"column":357}},{"source":"collection.js","original":{"line":70,"column":8},"generated":{"line":1,"column":363}},{"source":"collection.js","original":{"line":73,"column":9},"generated":{"line":1,"column":374}},{"source":"collection.js","name":"items","original":{"line":72,"column":7},"generated":{"line":1,"column":381}},{"source":"collection.js","name":"items","original":{"line":72,"column":7},"generated":{"line":1,"column":386}},{"source":"collection.js","original":{"line":72,"column":15},"generated":{"line":1,"column":392}},{"source":"collection.js","original":{"line":73,"column":9},"generated":{"line":1,"column":395}},{"source":"collection.js","name":"clear","original":{"line":79,"column":1},"generated":{"line":1,"column":401}},{"source":"collection.js","original":{"line":79,"column":8},"generated":{"line":1,"column":407}},{"source":"collection.js","name":"items","original":{"line":81,"column":6},"generated":{"line":1,"column":418}},{"source":"collection.js","name":"items","original":{"line":81,"column":6},"generated":{"line":1,"column":422}},{"source":"collection.js","original":{"line":81,"column":14},"generated":{"line":1,"column":424}},{"source":"collection.js","name":"items","original":{"line":81,"column":19},"generated":{"line":1,"column":429}},{"source":"collection.js","name":"reset","original":{"line":82,"column":7},"generated":{"line":1,"column":435}},{"source":"collection.js","name":"reset","original":{"line":82,"column":7},"generated":{"line":1,"column":440}},{"source":"collection.js","original":{"line":84,"column":7},"generated":{"line":1,"column":448}},{"source":"collection.js","original":{"line":84,"column":7},"generated":{"line":1,"column":452}},{"source":"collection.js","name":"i","original":{"line":84,"column":11},"generated":{"line":1,"column":456}},{"source":"collection.js","original":{"line":84,"column":15},"generated":{"line":1,"column":458}},{"source":"collection.js","name":"i","original":{"line":84,"column":18},"generated":{"line":1,"column":460}},{"source":"collection.js","name":"items","original":{"line":84,"column":22},"generated":{"line":1,"column":462}},{"source":"collection.js","name":"length","original":{"line":84,"column":28},"generated":{"line":1,"column":464}},{"source":"collection.js","name":"i","original":{"line":84,"column":36},"generated":{"line":1,"column":471}},{"source":"collection.js","original":{"line":85,"column":3},"generated":{"line":1,"column":475}},{"source":"collection.js","name":"onItemRemoved","original":{"line":85,"column":8},"generated":{"line":1,"column":480}},{"source":"collection.js","name":"items","original":{"line":85,"column":23},"generated":{"line":1,"column":494}},{"source":"collection.js","name":"i","original":{"line":85,"column":29},"generated":{"line":1,"column":496}},{"source":"collection.js","original":{"line":85,"column":33},"generated":{"line":1,"column":499}},{"source":"collection.js","original":{"line":87,"column":9},"generated":{"line":1,"column":502}},{"source":"collection.js","original":{"line":87,"column":9},"generated":{"line":1,"column":509}},{"source":"collection.js","name":"sort","original":{"line":96,"column":1},"generated":{"line":1,"column":515}},{"source":"collection.js","original":{"line":96,"column":7},"generated":{"line":1,"column":520}},{"source":"collection.js","name":"fn","original":{"line":96,"column":17},"generated":{"line":1,"column":529}},{"source":"collection.js","name":"desc","original":{"line":96,"column":21},"generated":{"line":1,"column":531}},{"source":"collection.js","original":{"line":108,"column":9},"generated":{"line":1,"column":534}},{"source":"collection.js","original":{"line":98,"column":20},"generated":{"line":1,"column":540}},{"source":"collection.js","name":"fn","original":{"line":98,"column":13},"generated":{"line":1,"column":559}},{"source":"collection.js","name":"items","original":{"line":100,"column":8},"generated":{"line":1,"column":561}},{"source":"collection.js","name":"items","original":{"line":100,"column":8},"generated":{"line":1,"column":566}},{"source":"collection.js","name":"sort","original":{"line":100,"column":14},"generated":{"line":1,"column":572}},{"source":"collection.js","original":{"line":100,"column":19},"generated":{"line":1,"column":577}},{"source":"collection.js","name":"a","original":{"line":100,"column":28},"generated":{"line":1,"column":586}},{"source":"collection.js","name":"b","original":{"line":100,"column":31},"generated":{"line":1,"column":588}},{"source":"collection.js","original":{"line":102,"column":11},"generated":{"line":1,"column":591}},{"source":"collection.js","name":"a","original":{"line":102,"column":12},"generated":{"line":1,"column":598}},{"source":"collection.js","name":"fn","original":{"line":102,"column":14},"generated":{"line":1,"column":600}},{"source":"collection.js","name":"b","original":{"line":102,"column":21},"generated":{"line":1,"column":604}},{"source":"collection.js","name":"fn","original":{"line":102,"column":23},"generated":{"line":1,"column":606}},{"source":"collection.js","original":{"line":102,"column":30},"generated":{"line":1,"column":610}},{"source":"collection.js","original":{"line":102,"column":34},"generated":{"line":1,"column":612}},{"source":"collection.js","original":{"line":102,"column":49},"generated":{"line":1,"column":617}},{"source":"collection.js","name":"desc","original":{"line":102,"column":40},"generated":{"line":1,"column":621}},{"source":"collection.js","original":{"line":102,"column":57},"generated":{"line":1,"column":624}},{"source":"collection.js","original":{"line":102,"column":61},"generated":{"line":1,"column":626}},{"source":"collection.js","original":{"line":106,"column":3},"generated":{"line":1,"column":631}},{"source":"collection.js","name":"items","original":{"line":106,"column":8},"generated":{"line":1,"column":636}},{"source":"collection.js","name":"sort","original":{"line":106,"column":14},"generated":{"line":1,"column":642}},{"source":"collection.js","name":"fn","original":{"line":106,"column":19},"generated":{"line":1,"column":647}},{"source":"collection.js","original":{"line":108,"column":9},"generated":{"line":1,"column":650}},{"source":"collection.js","name":"findItem","original":{"line":117,"column":1},"generated":{"line":1,"column":656}},{"source":"collection.js","original":{"line":117,"column":11},"generated":{"line":1,"column":665}},{"source":"collection.js","name":"inc","original":{"line":117,"column":21},"generated":{"line":1,"column":674}},{"source":"collection.js","name":"exc","original":{"line":117,"column":26},"generated":{"line":1,"column":676}},{"source":"collection.js","original":{"line":119,"column":6},"generated":{"line":1,"column":679}},{"source":"collection.js","original":{"line":119,"column":7},"generated":{"line":1,"column":683}},{"source":"collection.js","name":"items","original":{"line":119,"column":12},"generated":{"line":1,"column":688}},{"source":"collection.js","original":{"line":119,"column":19},"generated":{"line":1,"column":694}},{"source":"collection.js","original":{"line":119,"column":26},"generated":{"line":1,"column":701}},{"source":"collection.js","original":{"line":121,"column":7},"generated":{"line":1,"column":706}},{"source":"collection.js","original":{"line":121,"column":7},"generated":{"line":1,"column":710}},{"source":"collection.js","name":"i","original":{"line":121,"column":11},"generated":{"line":1,"column":714}},{"source":"collection.js","original":{"line":121,"column":15},"generated":{"line":1,"column":716}},{"source":"collection.js","name":"i","original":{"line":121,"column":18},"generated":{"line":1,"column":718}},{"source":"collection.js","original":{"line":121,"column":22},"generated":{"line":1,"column":720}},{"source":"collection.js","name":"items","original":{"line":121,"column":27},"generated":{"line":1,"column":725}},{"source":"collection.js","name":"length","original":{"line":121,"column":33},"generated":{"line":1,"column":731}},{"source":"collection.js","name":"i","original":{"line":121,"column":41},"generated":{"line":1,"column":738}},{"source":"collection.js","name":"exc","original":{"line":123,"column":7},"generated":{"line":1,"column":742}},{"source":"collection.js","name":"exc","original":{"line":123,"column":7},"generated":{"line":1,"column":747}},{"source":"collection.js","name":"Rin","original":{"line":123,"column":14},"generated":{"line":1,"column":751}},{"source":"collection.js","name":"partialCompare","original":{"line":123,"column":18},"generated":{"line":1,"column":753}},{"source":"collection.js","original":{"line":123,"column":33},"generated":{"line":1,"column":768}},{"source":"collection.js","name":"items","original":{"line":123,"column":38},"generated":{"line":1,"column":773}},{"source":"collection.js","name":"i","original":{"line":123,"column":44},"generated":{"line":1,"column":779}},{"source":"collection.js","name":"exc","original":{"line":123,"column":48},"generated":{"line":1,"column":782}},{"source":"collection.js","name":"Rin","original":{"line":126,"column":7},"generated":{"line":1,"column":787}},{"source":"collection.js","name":"partialCompare","original":{"line":126,"column":11},"generated":{"line":1,"column":789}},{"source":"collection.js","original":{"line":126,"column":26},"generated":{"line":1,"column":804}},{"source":"collection.js","name":"items","original":{"line":126,"column":31},"generated":{"line":1,"column":809}},{"source":"collection.js","name":"i","original":{"line":126,"column":37},"generated":{"line":1,"column":815}},{"source":"collection.js","name":"inc","original":{"line":126,"column":41},"generated":{"line":1,"column":818}},{"source":"collection.js","original":{"line":127,"column":4},"generated":{"line":1,"column":821}},{"source":"collection.js","original":{"line":127,"column":11},"generated":{"line":1,"column":828}},{"source":"collection.js","name":"items","original":{"line":127,"column":16},"generated":{"line":1,"column":833}},{"source":"collection.js","name":"i","original":{"line":127,"column":22},"generated":{"line":1,"column":839}},{"source":"collection.js","original":{"line":130,"column":9},"generated":{"line":1,"column":842}},{"source":"collection.js","original":{"line":130,"column":9},"generated":{"line":1,"column":849}},{"source":"collection.js","name":"getItems","original":{"line":136,"column":1},"generated":{"line":1,"column":855}},{"source":"collection.js","original":{"line":136,"column":11},"generated":{"line":1,"column":864}},{"source":"collection.js","original":{"line":138,"column":9},"generated":{"line":1,"column":875}},{"source":"collection.js","original":{"line":138,"column":9},"generated":{"line":1,"column":882}},{"source":"collection.js","name":"items","original":{"line":138,"column":14},"generated":{"line":1,"column":887}},{"source":"collection.js","name":"count","original":{"line":144,"column":1},"generated":{"line":1,"column":894}},{"source":"collection.js","original":{"line":144,"column":8},"generated":{"line":1,"column":900}},{"source":"collection.js","original":{"line":146,"column":9},"generated":{"line":1,"column":911}},{"source":"collection.js","original":{"line":146,"column":9},"generated":{"line":1,"column":918}},{"source":"collection.js","name":"items","original":{"line":146,"column":14},"generated":{"line":1,"column":923}},{"source":"collection.js","name":"length","original":{"line":146,"column":20},"generated":{"line":1,"column":929}},{"source":"collection.js","name":"isEmpty","original":{"line":152,"column":1},"generated":{"line":1,"column":937}},{"source":"collection.js","original":{"line":152,"column":10},"generated":{"line":1,"column":945}},{"source":"collection.js","original":{"line":154,"column":9},"generated":{"line":1,"column":956}},{"source":"collection.js","original":{"line":154,"column":10},"generated":{"line":1,"column":963}},{"source":"collection.js","name":"items","original":{"line":154,"column":15},"generated":{"line":1,"column":968}},{"source":"collection.js","name":"length","original":{"line":154,"column":21},"generated":{"line":1,"column":974}},{"source":"collection.js","name":"add","original":{"line":160,"column":1},"generated":{"line":1,"column":982}},{"source":"collection.js","original":{"line":160,"column":6},"generated":{"line":1,"column":986}},{"source":"collection.js","name":"item","original":{"line":160,"column":16},"generated":{"line":1,"column":995}},{"source":"collection.js","original":{"line":162,"column":6},"generated":{"line":1,"column":998}},{"source":"collection.js","name":"item","original":{"line":162,"column":7},"generated":{"line":1,"column":1005}},{"source":"collection.js","original":{"line":162,"column":16},"generated":{"line":1,"column":1008}},{"source":"collection.js","name":"onBeforeItemAdded","original":{"line":162,"column":21},"generated":{"line":1,"column":1013}},{"source":"collection.js","name":"item","original":{"line":162,"column":39},"generated":{"line":1,"column":1031}},{"source":"collection.js","name":"items","original":{"line":165,"column":7},"generated":{"line":1,"column":1035}},{"source":"collection.js","name":"items","original":{"line":165,"column":7},"generated":{"line":1,"column":1040}},{"source":"collection.js","name":"push","original":{"line":165,"column":13},"generated":{"line":1,"column":1046}},{"source":"collection.js","name":"item","original":{"line":165,"column":19},"generated":{"line":1,"column":1051}},{"source":"collection.js","name":"onItemAdded","original":{"line":166,"column":7},"generated":{"line":1,"column":1054}},{"source":"collection.js","name":"onItemAdded","original":{"line":166,"column":7},"generated":{"line":1,"column":1059}},{"source":"collection.js","name":"item","original":{"line":166,"column":20},"generated":{"line":1,"column":1071}},{"source":"collection.js","original":{"line":168,"column":9},"generated":{"line":1,"column":1074}},{"source":"collection.js","original":{"line":163,"column":10},"generated":{"line":1,"column":1080}},{"source":"collection.js","name":"addAt","original":{"line":174,"column":1},"generated":{"line":1,"column":1086}},{"source":"collection.js","original":{"line":174,"column":8},"generated":{"line":1,"column":1092}},{"source":"collection.js","name":"index","original":{"line":174,"column":18},"generated":{"line":1,"column":1101}},{"source":"collection.js","name":"item","original":{"line":174,"column":25},"generated":{"line":1,"column":1103}},{"source":"collection.js","original":{"line":176,"column":6},"generated":{"line":1,"column":1106}},{"source":"collection.js","name":"item","original":{"line":176,"column":7},"generated":{"line":1,"column":1110}},{"source":"collection.js","original":{"line":176,"column":16},"generated":{"line":1,"column":1114}},{"source":"collection.js","name":"onBeforeItemAdded","original":{"line":176,"column":21},"generated":{"line":1,"column":1119}},{"source":"collection.js","name":"item","original":{"line":176,"column":40},"generated":{"line":1,"column":1137}},{"source":"collection.js","original":{"line":177,"column":3},"generated":{"line":1,"column":1140}},{"source":"collection.js","original":{"line":177,"column":10},"generated":{"line":1,"column":1147}},{"source":"collection.js","name":"index","original":{"line":182,"column":6},"generated":{"line":1,"column":1152}},{"source":"collection.js","name":"index","original":{"line":179,"column":6},"generated":{"line":1,"column":1155}},{"source":"collection.js","original":{"line":179,"column":14},"generated":{"line":1,"column":1157}},{"source":"collection.js","name":"index","original":{"line":179,"column":17},"generated":{"line":1,"column":1161}},{"source":"collection.js","original":{"line":179,"column":25},"generated":{"line":1,"column":1163}},{"source":"collection.js","name":"index","original":{"line":180,"column":6},"generated":{"line":1,"column":1166}},{"source":"collection.js","original":{"line":180,"column":14},"generated":{"line":1,"column":1168}},{"source":"collection.js","name":"items","original":{"line":180,"column":19},"generated":{"line":1,"column":1173}},{"source":"collection.js","name":"length","original":{"line":180,"column":25},"generated":{"line":1,"column":1179}},{"source":"collection.js","name":"index","original":{"line":180,"column":33},"generated":{"line":1,"column":1188}},{"source":"collection.js","original":{"line":180,"column":41},"generated":{"line":1,"column":1190}},{"source":"collection.js","name":"items","original":{"line":180,"column":46},"generated":{"line":1,"column":1195}},{"source":"collection.js","name":"length","original":{"line":180,"column":52},"generated":{"line":1,"column":1201}},{"source":"collection.js","original":{"line":182,"column":15},"generated":{"line":1,"column":1209}},{"source":"collection.js","name":"index","original":{"line":182,"column":6},"generated":{"line":1,"column":1212}},{"source":"collection.js","name":"items","original":{"line":184,"column":8},"generated":{"line":1,"column":1214}},{"source":"collection.js","name":"items","original":{"line":184,"column":8},"generated":{"line":1,"column":1219}},{"source":"collection.js","name":"unshift","original":{"line":184,"column":14},"generated":{"line":1,"column":1225}},{"source":"collection.js","name":"item","original":{"line":184,"column":22},"generated":{"line":1,"column":1233}},{"source":"collection.js","original":{"line":186,"column":7},"generated":{"line":1,"column":1241}},{"source":"collection.js","name":"index","original":{"line":186,"column":11},"generated":{"line":1,"column":1244}},{"source":"collection.js","original":{"line":186,"column":20},"generated":{"line":1,"column":1247}},{"source":"collection.js","name":"items","original":{"line":186,"column":25},"generated":{"line":1,"column":1252}},{"source":"collection.js","name":"length","original":{"line":186,"column":31},"generated":{"line":1,"column":1258}},{"source":"collection.js","name":"items","original":{"line":188,"column":8},"generated":{"line":1,"column":1265}},{"source":"collection.js","name":"items","original":{"line":188,"column":8},"generated":{"line":1,"column":1270}},{"source":"collection.js","name":"push","original":{"line":188,"column":14},"generated":{"line":1,"column":1276}},{"source":"collection.js","name":"item","original":{"line":188,"column":19},"generated":{"line":1,"column":1281}},{"source":"collection.js","original":{"line":191,"column":2},"generated":{"line":1,"column":1288}},{"source":"collection.js","name":"tmp","original":{"line":192,"column":7},"generated":{"line":1,"column":1289}},{"source":"collection.js","name":"tmp","original":{"line":192,"column":7},"generated":{"line":1,"column":1293}},{"source":"collection.js","original":{"line":192,"column":13},"generated":{"line":1,"column":1295}},{"source":"collection.js","name":"items","original":{"line":192,"column":18},"generated":{"line":1,"column":1300}},{"source":"collection.js","name":"splice","original":{"line":192,"column":24},"generated":{"line":1,"column":1306}},{"source":"collection.js","original":{"line":192,"column":31},"generated":{"line":1,"column":1313}},{"source":"collection.js","name":"index","original":{"line":192,"column":34},"generated":{"line":1,"column":1315}},{"source":"collection.js","name":"tmp","original":{"line":193,"column":3},"generated":{"line":1,"column":1318}},{"source":"collection.js","name":"push","original":{"line":193,"column":7},"generated":{"line":1,"column":1320}},{"source":"collection.js","name":"item","original":{"line":193,"column":12},"generated":{"line":1,"column":1325}},{"source":"collection.js","name":"items","original":{"line":195,"column":8},"generated":{"line":1,"column":1328}},{"source":"collection.js","name":"items","original":{"line":195,"column":8},"generated":{"line":1,"column":1333}},{"source":"collection.js","name":"tmp","original":{"line":195,"column":16},"generated":{"line":1,"column":1339}},{"source":"collection.js","name":"concat","original":{"line":195,"column":20},"generated":{"line":1,"column":1341}},{"source":"collection.js","original":{"line":195,"column":27},"generated":{"line":1,"column":1348}},{"source":"collection.js","name":"items","original":{"line":195,"column":32},"generated":{"line":1,"column":1353}},{"source":"collection.js","original":{"line":199,"column":9},"generated":{"line":1,"column":1360}},{"source":"collection.js","name":"onItemAdded","original":{"line":198,"column":7},"generated":{"line":1,"column":1367}},{"source":"collection.js","name":"onItemAdded","original":{"line":198,"column":7},"generated":{"line":1,"column":1372}},{"source":"collection.js","name":"item","original":{"line":198,"column":20},"generated":{"line":1,"column":1384}},{"source":"collection.js","original":{"line":199,"column":9},"generated":{"line":1,"column":1387}},{"source":"collection.js","name":"addItems","original":{"line":205,"column":1},"generated":{"line":1,"column":1393}},{"source":"collection.js","original":{"line":205,"column":11},"generated":{"line":1,"column":1402}},{"source":"collection.js","name":"list","original":{"line":205,"column":21},"generated":{"line":1,"column":1411}},{"source":"collection.js","original":{"line":207,"column":6},"generated":{"line":1,"column":1414}},{"source":"collection.js","name":"list","original":{"line":207,"column":7},"generated":{"line":1,"column":1418}},{"source":"collection.js","original":{"line":207,"column":13},"generated":{"line":1,"column":1420}},{"source":"collection.js","original":{"line":207,"column":20},"generated":{"line":1,"column":1427}},{"source":"collection.js","original":{"line":209,"column":7},"generated":{"line":1,"column":1432}},{"source":"collection.js","original":{"line":209,"column":7},"generated":{"line":1,"column":1436}},{"source":"collection.js","name":"i","original":{"line":209,"column":11},"generated":{"line":1,"column":1440}},{"source":"collection.js","original":{"line":209,"column":15},"generated":{"line":1,"column":1442}},{"source":"collection.js","name":"i","original":{"line":209,"column":18},"generated":{"line":1,"column":1444}},{"source":"collection.js","name":"list","original":{"line":209,"column":22},"generated":{"line":1,"column":1446}},{"source":"collection.js","name":"length","original":{"line":209,"column":27},"generated":{"line":1,"column":1448}},{"source":"collection.js","name":"i","original":{"line":209,"column":35},"generated":{"line":1,"column":1455}},{"source":"collection.js","original":{"line":210,"column":3},"generated":{"line":1,"column":1459}},{"source":"collection.js","name":"add","original":{"line":210,"column":8},"generated":{"line":1,"column":1464}},{"source":"collection.js","name":"list","original":{"line":210,"column":13},"generated":{"line":1,"column":1468}},{"source":"collection.js","name":"i","original":{"line":210,"column":18},"generated":{"line":1,"column":1470}},{"source":"collection.js","original":{"line":212,"column":9},"generated":{"line":1,"column":1474}},{"source":"collection.js","original":{"line":212,"column":9},"generated":{"line":1,"column":1481}},{"source":"collection.js","name":"indexOf","original":{"line":218,"column":1},"generated":{"line":1,"column":1487}},{"source":"collection.js","original":{"line":218,"column":10},"generated":{"line":1,"column":1495}},{"source":"collection.js","name":"item","original":{"line":218,"column":20},"generated":{"line":1,"column":1504}},{"source":"collection.js","original":{"line":220,"column":9},"generated":{"line":1,"column":1507}},{"source":"collection.js","original":{"line":220,"column":9},"generated":{"line":1,"column":1514}},{"source":"collection.js","name":"items","original":{"line":220,"column":14},"generated":{"line":1,"column":1519}},{"source":"collection.js","name":"indexOf","original":{"line":220,"column":20},"generated":{"line":1,"column":1525}},{"source":"collection.js","name":"item","original":{"line":220,"column":28},"generated":{"line":1,"column":1533}},{"source":"collection.js","name":"getAt","original":{"line":226,"column":1},"generated":{"line":1,"column":1537}},{"source":"collection.js","original":{"line":226,"column":8},"generated":{"line":1,"column":1543}},{"source":"collection.js","name":"index","original":{"line":226,"column":18},"generated":{"line":1,"column":1552}},{"source":"collection.js","name":"rel","original":{"line":226,"column":25},"generated":{"line":1,"column":1554}},{"source":"collection.js","name":"index","original":{"line":231,"column":9},"generated":{"line":1,"column":1557}},{"source":"collection.js","name":"index","original":{"line":228,"column":6},"generated":{"line":1,"column":1564}},{"source":"collection.js","original":{"line":228,"column":14},"generated":{"line":1,"column":1566}},{"source":"collection.js","original":{"line":228,"column":26},"generated":{"line":1,"column":1569}},{"source":"collection.js","name":"rel","original":{"line":228,"column":19},"generated":{"line":1,"column":1572}},{"source":"collection.js","name":"index","original":{"line":229,"column":3},"generated":{"line":1,"column":1576}},{"source":"collection.js","original":{"line":229,"column":12},"generated":{"line":1,"column":1579}},{"source":"collection.js","name":"items","original":{"line":229,"column":17},"generated":{"line":1,"column":1584}},{"source":"collection.js","name":"length","original":{"line":229,"column":23},"generated":{"line":1,"column":1590}},{"source":"collection.js","name":"index","original":{"line":231,"column":9},"generated":{"line":1,"column":1598}},{"source":"collection.js","original":{"line":231,"column":18},"generated":{"line":1,"column":1601}},{"source":"collection.js","name":"index","original":{"line":231,"column":23},"generated":{"line":1,"column":1604}},{"source":"collection.js","original":{"line":231,"column":31},"generated":{"line":1,"column":1606}},{"source":"collection.js","name":"items","original":{"line":231,"column":36},"generated":{"line":1,"column":1611}},{"source":"collection.js","name":"length","original":{"line":231,"column":42},"generated":{"line":1,"column":1617}},{"source":"collection.js","original":{"line":231,"column":51},"generated":{"line":1,"column":1624}},{"source":"collection.js","name":"items","original":{"line":231,"column":56},"generated":{"line":1,"column":1629}},{"source":"collection.js","name":"index","original":{"line":231,"column":62},"generated":{"line":1,"column":1635}},{"source":"collection.js","original":{"line":231,"column":71},"generated":{"line":1,"column":1638}},{"source":"collection.js","name":"removeAt","original":{"line":237,"column":1},"generated":{"line":1,"column":1644}},{"source":"collection.js","original":{"line":237,"column":11},"generated":{"line":1,"column":1653}},{"source":"collection.js","name":"index","original":{"line":237,"column":21},"generated":{"line":1,"column":1662}},{"source":"collection.js","name":"index","original":{"line":239,"column":6},"generated":{"line":1,"column":1665}},{"source":"collection.js","name":"index","original":{"line":239,"column":6},"generated":{"line":1,"column":1668}},{"source":"collection.js","original":{"line":239,"column":14},"generated":{"line":1,"column":1670}},{"source":"collection.js","name":"index","original":{"line":239,"column":19},"generated":{"line":1,"column":1673}},{"source":"collection.js","original":{"line":239,"column":28},"generated":{"line":1,"column":1676}},{"source":"collection.js","name":"items","original":{"line":239,"column":33},"generated":{"line":1,"column":1681}},{"source":"collection.js","name":"length","original":{"line":239,"column":39},"generated":{"line":1,"column":1687}},{"source":"collection.js","original":{"line":240,"column":3},"generated":{"line":1,"column":1694}},{"source":"collection.js","original":{"line":240,"column":10},"generated":{"line":1,"column":1701}},{"source":"collection.js","name":"item","original":{"line":242,"column":6},"generated":{"line":1,"column":1706}},{"source":"collection.js","name":"item","original":{"line":242,"column":6},"generated":{"line":1,"column":1710}},{"source":"collection.js","original":{"line":242,"column":13},"generated":{"line":1,"column":1712}},{"source":"collection.js","name":"items","original":{"line":242,"column":18},"generated":{"line":1,"column":1717}},{"source":"collection.js","name":"index","original":{"line":242,"column":24},"generated":{"line":1,"column":1723}},{"source":"collection.js","original":{"line":247,"column":9},"generated":{"line":1,"column":1726}},{"source":"collection.js","name":"items","original":{"line":244,"column":7},"generated":{"line":1,"column":1733}},{"source":"collection.js","name":"items","original":{"line":244,"column":7},"generated":{"line":1,"column":1738}},{"source":"collection.js","name":"splice","original":{"line":244,"column":13},"generated":{"line":1,"column":1744}},{"source":"collection.js","name":"index","original":{"line":244,"column":21},"generated":{"line":1,"column":1751}},{"source":"collection.js","original":{"line":244,"column":28},"generated":{"line":1,"column":1753}},{"source":"collection.js","name":"onItemRemoved","original":{"line":246,"column":7},"generated":{"line":1,"column":1756}},{"source":"collection.js","name":"onItemRemoved","original":{"line":246,"column":7},"generated":{"line":1,"column":1761}},{"source":"collection.js","name":"item","original":{"line":246,"column":22},"generated":{"line":1,"column":1775}},{"source":"collection.js","name":"index","original":{"line":246,"column":28},"generated":{"line":1,"column":1777}},{"source":"collection.js","original":{"line":247,"column":9},"generated":{"line":1,"column":1780}},{"source":"collection.js","name":"remove","original":{"line":253,"column":1},"generated":{"line":1,"column":1786}},{"source":"collection.js","original":{"line":253,"column":9},"generated":{"line":1,"column":1793}},{"source":"collection.js","name":"item","original":{"line":253,"column":19},"generated":{"line":1,"column":1802}},{"source":"collection.js","name":"removeAt","original":{"line":255,"column":7},"generated":{"line":1,"column":1805}},{"source":"collection.js","name":"removeAt","original":{"line":255,"column":7},"generated":{"line":1,"column":1810}},{"source":"collection.js","original":{"line":255,"column":17},"generated":{"line":1,"column":1819}},{"source":"collection.js","name":"indexOf","original":{"line":255,"column":22},"generated":{"line":1,"column":1824}},{"source":"collection.js","name":"item","original":{"line":255,"column":30},"generated":{"line":1,"column":1832}},{"source":"collection.js","name":"forEach","original":{"line":262,"column":1},"generated":{"line":1,"column":1837}},{"source":"collection.js","original":{"line":262,"column":10},"generated":{"line":1,"column":1845}},{"source":"collection.js","name":"callback","original":{"line":262,"column":20},"generated":{"line":1,"column":1854}},{"source":"collection.js","original":{"line":264,"column":6},"generated":{"line":1,"column":1857}},{"source":"collection.js","original":{"line":264,"column":6},"generated":{"line":1,"column":1860}},{"source":"collection.js","name":"isEmpty","original":{"line":264,"column":11},"generated":{"line":1,"column":1865}},{"source":"collection.js","original":{"line":265,"column":3},"generated":{"line":1,"column":1875}},{"source":"collection.js","original":{"line":265,"column":10},"generated":{"line":1,"column":1882}},{"source":"collection.js","original":{"line":267,"column":7},"generated":{"line":1,"column":1887}},{"source":"collection.js","original":{"line":267,"column":7},"generated":{"line":1,"column":1891}},{"source":"collection.js","name":"i","original":{"line":267,"column":11},"generated":{"line":1,"column":1895}},{"source":"collection.js","original":{"line":267,"column":15},"generated":{"line":1,"column":1897}},{"source":"collection.js","name":"i","original":{"line":267,"column":18},"generated":{"line":1,"column":1899}},{"source":"collection.js","original":{"line":267,"column":22},"generated":{"line":1,"column":1901}},{"source":"collection.js","name":"items","original":{"line":267,"column":27},"generated":{"line":1,"column":1906}},{"source":"collection.js","name":"length","original":{"line":267,"column":33},"generated":{"line":1,"column":1912}},{"source":"collection.js","original":{"line":268,"column":45},"generated":{"line":1,"column":1921}},{"source":"collection.js","name":"callback","original":{"line":268,"column":7},"generated":{"line":1,"column":1925}},{"source":"collection.js","original":{"line":268,"column":17},"generated":{"line":1,"column":1927}},{"source":"collection.js","name":"items","original":{"line":268,"column":22},"generated":{"line":1,"column":1932}},{"source":"collection.js","name":"i","original":{"line":268,"column":28},"generated":{"line":1,"column":1938}},{"source":"collection.js","name":"i","original":{"line":268,"column":32},"generated":{"line":1,"column":1941}},{"source":"collection.js","original":{"line":268,"column":35},"generated":{"line":1,"column":1943}},{"source":"collection.js","name":"i","original":{"line":267,"column":41},"generated":{"line":1,"column":1949}},{"source":"collection.js","original":{"line":270,"column":9},"generated":{"line":1,"column":1954}},{"source":"collection.js","original":{"line":270,"column":9},"generated":{"line":1,"column":1961}},{"source":"collection.js","name":"forEachCall","original":{"line":277,"column":1},"generated":{"line":1,"column":1967}},{"source":"collection.js","original":{"line":277,"column":14},"generated":{"line":1,"column":1979}},{"source":"collection.js","name":"method","original":{"line":277,"column":24},"generated":{"line":1,"column":1988}},{"source":"collection.js","name":"args","original":{"line":277,"column":35},"generated":{"line":1,"column":1993}},{"source":"collection.js","original":{"line":279,"column":6},"generated":{"line":1,"column":1996}},{"source":"collection.js","original":{"line":279,"column":6},"generated":{"line":1,"column":1999}},{"source":"collection.js","name":"isEmpty","original":{"line":279,"column":11},"generated":{"line":1,"column":2004}},{"source":"collection.js","original":{"line":280,"column":3},"generated":{"line":1,"column":2014}},{"source":"collection.js","original":{"line":280,"column":10},"generated":{"line":1,"column":2021}},{"source":"collection.js","original":{"line":282,"column":7},"generated":{"line":1,"column":2026}},{"source":"collection.js","original":{"line":282,"column":7},"generated":{"line":1,"column":2030}},{"source":"collection.js","name":"i","original":{"line":282,"column":11},"generated":{"line":1,"column":2034}},{"source":"collection.js","original":{"line":282,"column":15},"generated":{"line":1,"column":2036}},{"source":"collection.js","name":"i","original":{"line":282,"column":18},"generated":{"line":1,"column":2038}},{"source":"collection.js","original":{"line":282,"column":22},"generated":{"line":1,"column":2040}},{"source":"collection.js","name":"items","original":{"line":282,"column":27},"generated":{"line":1,"column":2045}},{"source":"collection.js","name":"length","original":{"line":282,"column":33},"generated":{"line":1,"column":2051}},{"source":"collection.js","original":{"line":283,"column":43},"generated":{"line":1,"column":2060}},{"source":"collection.js","original":{"line":283,"column":7},"generated":{"line":1,"column":2064}},{"source":"collection.js","name":"items","original":{"line":283,"column":12},"generated":{"line":1,"column":2069}},{"source":"collection.js","name":"i","original":{"line":283,"column":18},"generated":{"line":1,"column":2075}},{"source":"collection.js","name":"method","original":{"line":283,"column":21},"generated":{"line":1,"column":2078}},{"source":"collection.js","name":"args","original":{"line":283,"column":33},"generated":{"line":1,"column":2084}},{"source":"collection.js","name":"i","original":{"line":282,"column":41},"generated":{"line":1,"column":2087}},{"source":"collection.js","original":{"line":285,"column":9},"generated":{"line":1,"column":2092}},{"source":"collection.js","original":{"line":285,"column":9},"generated":{"line":1,"column":2099}},{"source":"collection.js","name":"forEachRev","original":{"line":291,"column":1},"generated":{"line":1,"column":2105}},{"source":"collection.js","original":{"line":291,"column":13},"generated":{"line":1,"column":2116}},{"source":"collection.js","name":"callback","original":{"line":291,"column":23},"generated":{"line":1,"column":2125}},{"source":"collection.js","original":{"line":293,"column":6},"generated":{"line":1,"column":2128}},{"source":"collection.js","original":{"line":293,"column":6},"generated":{"line":1,"column":2131}},{"source":"collection.js","name":"isEmpty","original":{"line":293,"column":11},"generated":{"line":1,"column":2136}},{"source":"collection.js","original":{"line":294,"column":3},"generated":{"line":1,"column":2146}},{"source":"collection.js","original":{"line":294,"column":10},"generated":{"line":1,"column":2153}},{"source":"collection.js","original":{"line":296,"column":7},"generated":{"line":1,"column":2158}},{"source":"collection.js","original":{"line":296,"column":7},"generated":{"line":1,"column":2162}},{"source":"collection.js","name":"i","original":{"line":296,"column":11},"generated":{"line":1,"column":2166}},{"source":"collection.js","original":{"line":296,"column":15},"generated":{"line":1,"column":2168}},{"source":"collection.js","name":"items","original":{"line":296,"column":20},"generated":{"line":1,"column":2173}},{"source":"collection.js","name":"length","original":{"line":296,"column":26},"generated":{"line":1,"column":2179}},{"source":"collection.js","original":{"line":296,"column":33},"generated":{"line":1,"column":2186}},{"source":"collection.js","name":"i","original":{"line":296,"column":36},"generated":{"line":1,"column":2188}},{"source":"collection.js","original":{"line":296,"column":41},"generated":{"line":1,"column":2191}},{"source":"collection.js","original":{"line":297,"column":45},"generated":{"line":1,"column":2195}},{"source":"collection.js","name":"callback","original":{"line":297,"column":7},"generated":{"line":1,"column":2199}},{"source":"collection.js","original":{"line":297,"column":17},"generated":{"line":1,"column":2201}},{"source":"collection.js","name":"items","original":{"line":297,"column":22},"generated":{"line":1,"column":2206}},{"source":"collection.js","name":"i","original":{"line":297,"column":28},"generated":{"line":1,"column":2212}},{"source":"collection.js","name":"i","original":{"line":297,"column":32},"generated":{"line":1,"column":2215}},{"source":"collection.js","original":{"line":297,"column":35},"generated":{"line":1,"column":2217}},{"source":"collection.js","name":"i","original":{"line":296,"column":44},"generated":{"line":1,"column":2223}},{"source":"collection.js","original":{"line":299,"column":9},"generated":{"line":1,"column":2228}},{"source":"collection.js","original":{"line":299,"column":9},"generated":{"line":1,"column":2235}},{"source":"collection.js","name":"forEachRevCall","original":{"line":305,"column":1},"generated":{"line":1,"column":2241}},{"source":"collection.js","original":{"line":305,"column":17},"generated":{"line":1,"column":2256}},{"source":"collection.js","name":"method","original":{"line":305,"column":27},"generated":{"line":1,"column":2265}},{"source":"collection.js","name":"args","original":{"line":305,"column":38},"generated":{"line":1,"column":2270}},{"source":"collection.js","original":{"line":307,"column":6},"generated":{"line":1,"column":2273}},{"source":"collection.js","original":{"line":307,"column":6},"generated":{"line":1,"column":2276}},{"source":"collection.js","name":"isEmpty","original":{"line":307,"column":11},"generated":{"line":1,"column":2281}},{"source":"collection.js","original":{"line":308,"column":3},"generated":{"line":1,"column":2291}},{"source":"collection.js","original":{"line":308,"column":10},"generated":{"line":1,"column":2298}},{"source":"collection.js","original":{"line":310,"column":7},"generated":{"line":1,"column":2303}},{"source":"collection.js","original":{"line":310,"column":7},"generated":{"line":1,"column":2307}},{"source":"collection.js","name":"i","original":{"line":310,"column":11},"generated":{"line":1,"column":2311}},{"source":"collection.js","original":{"line":310,"column":15},"generated":{"line":1,"column":2313}},{"source":"collection.js","name":"items","original":{"line":310,"column":20},"generated":{"line":1,"column":2318}},{"source":"collection.js","name":"length","original":{"line":310,"column":26},"generated":{"line":1,"column":2324}},{"source":"collection.js","original":{"line":310,"column":33},"generated":{"line":1,"column":2331}},{"source":"collection.js","name":"i","original":{"line":310,"column":36},"generated":{"line":1,"column":2333}},{"source":"collection.js","original":{"line":310,"column":41},"generated":{"line":1,"column":2336}},{"source":"collection.js","original":{"line":311,"column":43},"generated":{"line":1,"column":2340}},{"source":"collection.js","original":{"line":311,"column":7},"generated":{"line":1,"column":2344}},{"source":"collection.js","name":"items","original":{"line":311,"column":12},"generated":{"line":1,"column":2349}},{"source":"collection.js","name":"i","original":{"line":311,"column":18},"generated":{"line":1,"column":2355}},{"source":"collection.js","name":"method","original":{"line":311,"column":21},"generated":{"line":1,"column":2358}},{"source":"collection.js","name":"args","original":{"line":311,"column":33},"generated":{"line":1,"column":2364}},{"source":"collection.js","name":"i","original":{"line":310,"column":44},"generated":{"line":1,"column":2367}},{"source":"collection.js","original":{"line":313,"column":9},"generated":{"line":1,"column":2372}},{"source":"collection.js","original":{"line":313,"column":9},"generated":{"line":1,"column":2379}},{"source":"collection.js","name":"onBeforeItemAdded","original":{"line":319,"column":1},"generated":{"line":1,"column":2385}},{"source":"collection.js","original":{"line":319,"column":20},"generated":{"line":1,"column":2403}},{"source":"collection.js","name":"item","original":{"line":319,"column":30},"generated":{"line":1,"column":2412}},{"source":"collection.js","original":{"line":321,"column":9},"generated":{"line":1,"column":2415}},{"source":"collection.js","original":{"line":321,"column":9},"generated":{"line":1,"column":2422}},{"source":"collection.js","name":"onItemAdded","original":{"line":327,"column":1},"generated":{"line":1,"column":2425}},{"source":"collection.js","original":{"line":327,"column":14},"generated":{"line":1,"column":2437}},{"source":"collection.js","name":"item","original":{"line":327,"column":24},"generated":{"line":1,"column":2446}},{"source":"collection.js","name":"onItemRemoved","original":{"line":334,"column":1},"generated":{"line":1,"column":2451}},{"source":"collection.js","original":{"line":334,"column":16},"generated":{"line":1,"column":2465}},{"source":"collection.js","name":"item","original":{"line":334,"column":26},"generated":{"line":1,"column":2474}}],"sources":{"collection.js":"/*\r\n**\trin/collection\r\n**\r\n**\tCopyright (c) 2013-2020, RedStar Technologies, All rights reserved.\r\n**\thttps://www.rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nlet Flattenable = require('./flattenable');\r\nlet Schema = require('./schema');\r\nlet Rin = require('./alpha');\r\n\r\n/**\r\n**\tFlattenable collection class, used to store items and manipulate them. The items should also be flattenable.\r\n*/\r\n\r\nmodule.exports = Flattenable.extend\r\n({\r\n\t/**\r\n\t**\tName of the class.\r\n\t*/\r\n\tclassName: \"Collection\",\r\n\r\n\t/**\r\n\t**\tDescribes the type schema of the underlying items.\r\n\t*/\r\n\titemTypeSchema: null,\r\n\r\n\t/**\r\n\t**\tArray of items.\r\n\t*/\r\n\titems: null, /* Array */\r\n\r\n\t/**\r\n\t**\tConstructs the collection.\r\n\t*/\r\n\t__ctor: function (itemTypeSchema)\r\n\t{\r\n\t\tif (!itemTypeSchema) itemTypeSchema = this.itemTypeSchema;\r\n\r\n\t\tif (itemTypeSchema)\r\n\t\t\tthis.typeSchema = Schema.Property('items').is(Schema.Array().of(itemTypeSchema));\r\n\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t/*\r\n\t**\tExecuted after the collection has been unflattened, re-adds the items to ensure onItemAdded() is called.\r\n\t*/\r\n\tonUnflattened: function()\r\n\t{\r\n\t\tlet items = this.items;\r\n\t\tthis.reset();\r\n\r\n\t\tfor (let i of items)\r\n\t\t\tthis.add(i);\r\n\t},\r\n\r\n\t/*\r\n\t**\tResets the collection to empty. Note that onItemRemoved will not be called.\r\n\t*/\r\n\treset: function ()\r\n\t{\r\n\t\tthis.items = [];\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tClears the contents of the collection.\r\n\t*/\r\n\tclear: function ()\r\n\t{\r\n\t\tvar items = this.items;\r\n\t\tthis.reset();\r\n\r\n\t\tfor (var i = 0; i < items.length; i++)\r\n\t\t\tthis.onItemRemoved (items[i], 0);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tSorts the collection. A comparison function should be provided, or the name of a property to sort by.\r\n\t**\r\n\t**\tObject sort (fn: Function)\r\n\t**\tObject sort (prop: string, [desc:bool=false])\r\n\t*/\r\n\tsort: function (fn, desc)\r\n\t{\r\n\t\tif (typeof(fn) != \"function\")\r\n\t\t{\r\n\t\t\tthis.items.sort(function(a, b)\r\n\t\t\t{\r\n\t\t\t\treturn (a[fn] <= b[fn] ? -1 : 1) * (desc === true ? -1 : 1);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.items.sort(fn);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tSearches for an item with the specified fields and returns it. The \"inc\" object is the \"inclusive\" map, meaning all fields must match\r\n\t**\tand the optional \"exc\" is the exclusive map, meaning not even one field should match.\r\n\t**\r\n\t**\tObject findItem (inc: Object, exc: Object);\r\n\t*/\t\r\n\tfindItem: function (inc, exc)\r\n\t{\r\n\t\tif (!this.items) return null;\r\n\r\n\t\tfor (var i = 0; i < this.items.length; i++)\r\n\t\t{\r\n\t\t\tif (exc && Rin.partialCompare(this.items[i], exc))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (Rin.partialCompare(this.items[i], inc))\r\n\t\t\t\treturn this.items[i];\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the container array.\r\n\t*/\r\n\tgetItems: function ()\r\n\t{\r\n\t\treturn this.items;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the number of items in the collection.\r\n\t*/\r\n\tcount: function ()\r\n\t{\r\n\t\treturn this.items.length;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns true if the collection is empty.\r\n\t*/\r\n\tisEmpty: function ()\r\n\t{\r\n\t\treturn !this.items.length;\r\n\t},\r\n\r\n\t/*\r\n\t**\tAdds an item to the collection, onBeforeItemAdded and onItemAdded will be triggered.\r\n\t*/\r\n\tadd: function (item)\r\n\t{\r\n\t\tif (!item || !this.onBeforeItemAdded(item))\r\n\t\t\treturn this;\r\n\r\n\t\tthis.items.push (item);\r\n\t\tthis.onItemAdded (item);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tAdds an item at the specified index, effectively moving the remaining items to the right.\r\n\t*/\r\n\taddAt: function (index, item)\r\n\t{\r\n\t\tif (!item || !this.onBeforeItemAdded (item))\r\n\t\t\treturn this;\r\n\r\n\t\tif (index < 0) index = 0;\r\n\t\tif (index > this.items.length) index = this.items.length;\r\n\r\n\t\tif (index == 0)\r\n\t\t{\r\n\t\t\tthis.items.unshift(item);\r\n\t\t}\r\n\t\telse if (index == this.items.length)\r\n\t\t{\r\n\t\t\tthis.items.push(item);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar tmp = this.items.splice(0, index);\r\n\t\t\ttmp.push(item);\r\n\r\n\t\t\tthis.items = tmp.concat(this.items);\r\n\t\t}\r\n\r\n\t\tthis.onItemAdded (item);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tTraverses the given array and adds all items to the collection.\r\n\t*/\r\n\taddItems: function (list)\r\n\t{\r\n\t\tif (!list) return this;\r\n\r\n\t\tfor (var i = 0; i < list.length; i++)\r\n\t\t\tthis.add (list[i]);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the index of the specified item, or -1 if not found.\r\n\t*/\r\n\tindexOf: function (item)\r\n\t{\r\n\t\treturn this.items.indexOf(item);\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the item at the specified index, or null if not found.\r\n\t*/\r\n\tgetAt: function (index, rel)\r\n\t{\r\n\t\tif (index < 0 && rel == true)\r\n\t\t\tindex += this.items.length;\r\n\r\n\t\treturn index >= 0 && index < this.items.length ? this.items[index] : null;\r\n\t},\r\n\r\n\t/*\r\n\t**\tRemoves the item at the specified index.\r\n\t*/\r\n\tremoveAt: function (index)\r\n\t{\r\n\t\tif (index < 0 || index >= this.items.length)\r\n\t\t\treturn this;\r\n\r\n\t\tvar item = this.items[index];\r\n\r\n\t\tthis.items.splice (index, 1);\r\n\r\n\t\tthis.onItemRemoved (item, index);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tRemoves the specified item.\r\n\t*/\r\n\tremove: function (item)\r\n\t{\r\n\t\tthis.removeAt (this.indexOf(item));\r\n\t},\r\n\r\n\t/*\r\n\t**\tRuns the specified callback for each of the items in the collection, if false is returned by the callback this function\r\n\t**\twill exit immediately. Parameters to the callback are: (item, index, collection).\r\n\t*/\r\n\tforEach: function (callback)\r\n\t{\r\n\t\tif (this.isEmpty())\r\n\t\t\treturn this;\r\n\r\n\t\tfor (var i = 0; i < this.items.length; i++)\r\n\t\t\tif (callback (this.items[i], i, this) === false) break;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tExecutes a method call with the specified parameters on each of the items in the collection, if false is returned by the\r\n\t**\titem's method this function will exit immediately.\r\n\t*/\r\n\tforEachCall: function (method, ...args)\r\n\t{\r\n\t\tif (this.isEmpty())\r\n\t\t\treturn this;\r\n\r\n\t\tfor (var i = 0; i < this.items.length; i++)\r\n\t\t\tif (this.items[i][method] (...args) === false) break;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tExactly the same as forEach but in reverse order.\r\n\t*/\r\n\tforEachRev: function (callback)\r\n\t{\r\n\t\tif (this.isEmpty())\r\n\t\t\treturn this;\r\n\r\n\t\tfor (var i = this.items.length-1; i >= 0; i--)\r\n\t\t\tif (callback (this.items[i], i, this) === false) break;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tExactly the same as forEachCall but in reverse order.\r\n\t*/\r\n\tforEachRevCall: function (method, ...args)\r\n\t{\r\n\t\tif (this.isEmpty())\r\n\t\t\treturn this;\r\n\r\n\t\tfor (var i = this.items.length-1; i >= 0; i--)\r\n\t\t\tif (this.items[i][method] (...args) === false) break;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tHandler for the beforeItemAdded event. If returns false the item will not be added.\r\n\t*/\r\n\tonBeforeItemAdded: function (item)\r\n\t{\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/*\r\n\t**\tHandler for the itemAdded event.\r\n\t*/\r\n\tonItemAdded: function (item)\r\n\t{\r\n\t},\r\n\r\n\t/*\r\n\t**\tHandler for the itemRemoved event.\r\n\t*/\r\n\tonItemRemoved: function (item)\r\n\t{\r\n\t}\r\n});\r\n"},"lineCount":null}},"error":null,"hash":"0f138320fc901cbe1fe96809d3afc9a4","cacheData":{"env":{}}}